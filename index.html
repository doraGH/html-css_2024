<!DOCTYPE html>
<html lang="zh-Hant">
<head>  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>
  <header class="header">
    <div class="w-container">
      <a href="#" class="nav-brand">
        <img src="assets/images/logo.svg" />
        <span>Your Company</span>
      </a>

      <!-- Navigation -->
      <nav class="navbar">
        <ul class="menu">
          <li>
            <a href="#" title="關於本區">關於本區</a>
            <ul class="menu-second reset">
              <li><a href="product_catalog.php" title="帶入名稱">Deadbolts</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Knobs</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Handlesets</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Levers</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Electronic</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Secruity Sets</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Light Commerical</a></li>
              <li><a href="product_catalog.php" title="帶入名稱">Parts & Accessories</a></li>
            </ul>
          </li>
          <li>
            <a href="#" title="關於本區">關於本區</a>
          </li>
          <li>
            <a href="#" title="最新消息">最新消息</a>
            <ul>
              <li><a href="#" title="最新公告">最新公告</a></li>
              <li><a href="#" title="活動資訊">活動資訊</a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <!-- nav links -->
      <ul class="nav-links">
        <li class="search">
          <a href="#" class="search-switch">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search" aria-hidden="true"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg>
          </a>
        </li>
        <li class="language">
          <a href="#">
            <svg xmlns="http://www.w3.org/2000/svg" width="24"  height="24" viewBox="0 0 24 24" fill="none"  stroke="currentColor" stroke-width="1.4"  stroke-linecap="round" stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-world"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M3.6 9h16.8" /><path d="M3.6 15h16.8" /><path d="M11.5 3a17 17 0 0 0 0 18" /><path d="M12.5 3a17 17 0 0 1 0 18" /></svg>
            TW
          </a>
          <ul>
            <li><a href="#">TW</a></li>
            <li><a href="#">EN</a></li>
          </ul>
        </li>
        <!-- nav links click -->
        <li class="language-clicked">
          <div class="dropdownToggle">
            <a href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24"  height="24" viewBox="0 0 24 24" fill="none"  stroke="currentColor" stroke-width="1.4"  stroke-linecap="round" stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-world"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M3.6 9h16.8" /><path d="M3.6 15h16.8" /><path d="M11.5 3a17 17 0 0 0 0 18" /><path d="M12.5 3a17 17 0 0 1 0 18" /></svg>
              TW
            </a>
          </div>
          <ul>
            <li><a href="#">TW</a></li>
            <li><a href="#">EN</a></li>
          </ul>
        </li>
      </ul>

      <!-- Navigation Switch -->
      <a href="#" class="nav-switch">
        <span></span>
        <span></span>
        <span></span>
      </a>

    </div>
  </header>

  <!-- search popup -->
  <div class="search-box">
    <div class="wrap">
      <form action="#" method="post" class="search-form">
        <input type="text" name="search-keyword" id="search-keyword" placeholder="Enter keywords" value="" class="input-style">
        <button type="search" value="" class="search-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search" aria-hidden="true"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg>
        </button>
      </form>
      <a class="search-close" href="#" title="關閉搜尋">
        <span class="sr-only">關閉搜尋</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1FAC79" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>
      </a>
    </div>
  </div>

  <script>
    const $win = window;
    let winW = $win.innerWidth,
        winH = $win.innerHeight;

    const $header = document.querySelector('.header');
    const $navSwitch = document.querySelector(".nav-switch");
    const $lang = document.querySelector(".dropdownToggle").parentElement;
    const $language = document.querySelector(".language");
    const $searchSwitch = document.querySelector(".search-switch");
    const $searchBox = document.querySelector(".search-box");    
    const $menu = document.querySelector(".menu");   

    $win.addEventListener("click", function(){
      winW = $win.innerWidth;
      winH = $win.innerHeight;
    });

    // language-1 監聽點擊事件
    document.querySelector(".dropdownToggle").addEventListener("click", function(event) {
      event.preventDefault();
      // const $lang = this.parentElement; // 獲取元素的父層
      // $lang.classList.toggle("is-open");
      
      if(!$lang.classList.contains("is-open")) {
        $lang.classList.add("is-open");
        $searchBox.classList.remove("is-open");
      } else {
        $lang.classList.remove("is-open");
        $searchBox.classList.remove("is-open");
      }
    });
    document.querySelectorAll(".language-clicked ul li a").forEach(function(anchor) {
      anchor.addEventListener("click", function() {
        if ($lang.classList.contains("is-open")) {
          $lang.classList.remove("is-open"); 
        }
      });
    });

    // language-2 ,一開始mouseover 小尺寸click
    $language.addEventListener("click", function() {
      // 使用 getComputedStyle 檢查元素的顯示狀態
      const navSwitchDisplay = window.getComputedStyle($navSwitch).display;
      if (navSwitchDisplay !== 'none' && winW <= 766) {
        // $language.classList.toggle("is-open");
        if(!$language.classList.contains("is-open")) {
          $language.classList.add("is-open");
          $searchBox.classList.remove("is-open");
        } else {
          $language.classList.remove("is-open");
          $searchBox.classList.remove("is-open");
        }
      }
    });

    // searchBox
    $searchSwitch.addEventListener("click", function(event) {      
      if(!$searchBox.classList.contains("is-open")) {
        $searchBox.classList.add("is-open");
        $lang.classList.remove("is-open");
        $language.classList.remove("is-open");
        $header.classList.remove("is-open-nav");
        $navSwitch.classList.remove("is-open");
      
        const $searchClose = $searchBox.querySelector(".wrap .search-close");
        $searchClose.addEventListener("click", function() {
          $searchBox.classList.remove("is-open");
        }, { once: true }); // 只綁定一次，避免重複綁定導致的多次觸發
      } else {
        $searchBox.classList.remove("is-open");
        $lang.classList.remove("is-open");
        $language.classList.remove("is-open");
      }
    });

    // 漢堡選單
    $navSwitch.addEventListener("click", function() {
      if($navSwitch.classList.contains("is-open")) {
        $navSwitch.classList.remove("is-open");  
        $header.classList.remove("is-open-nav");
        $lang.classList.remove("is-open");
        $language.classList.remove("is-open");
        $searchBox.classList.remove("is-open");
      } else {
        $navSwitch.classList.add("is-open");
        $header.classList.add("is-open-nav");
        $lang.classList.remove("is-open");
        $language.classList.remove("is-open");
        $searchBox.classList.remove("is-open");
      }
    });

    // 選單點擊開合
    


    
  </script>
</body>
</html>